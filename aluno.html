<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="style2.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
    <header>
        <div id="logo"></div>
    </header>
    <hr>
    <hr>
    <span id="burguer" class="material-icons" onclick="mainmenu()">menu</span>
    <menu>
        <a href="qs.html">Quem Somos</a>
        <a href="cursos.html">Cursos</a>
        <a href="contato.html">Contato</a>
        <a href="prof.html">Professores</a>
        <a href="aluno.html">Área do Aluno</a>
    </menu>
    <hr>
    <hr>
    <br>
    <div id="containerlogin">
        <p><label for="codigo">RA (Registro de Aluno)</label><input type="text" id="codigo"></p>
        <p><label for="senha">Senha de Acesso</label><input type="password" id="senha"></p>
        <br>
        <input type="button" value="ENTRAR" onclick="entrar()" id="botaoentrar">

        <input type="button" value="Esqueci Minha Senha">

        <p id="saida"></p>
    </div>
    <!--page after login-->
    <div id="logado">
        <h1>Seja Bem vindo!</h1>

        <div id="iAluno">
        </div>

        <div id="ambienteAluno">
            <p>Nome: <span id="nome"></span></p>
            <p>Curso: <span id="curso"></span></p>
        </div>
        <hr>
        <br>
        <p>
            Este é seu sistema de aulas, assim que finalizar, será feito uma prova e seu certificado será gerado.
        <p>
        <br>
        
        <h1>Primeiro vídeo: Nível Básico</h1>
        <iframe id="primeiro" width="100%" height="315" src="" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
            <br>
            <p>
                Ao finalizar o vídeo e entender o conteúdo, marque a caixa: <input type="checkbox" name="video1" id="video1feito">
            </p>
            <br>
        <h1>Segundo vídeo: Nível intermediário</h1>

        <iframe id="segundo" width="100%" height="315" src="" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>
        <br>
        <p>
            Ao finalizar o vídeo e entender o conteúdo, marque a caixa: <input type="checkbox" name="video2" id="video2feito">
        </p>
        <br>
        <hr>
        <input type="button" value="Solicitar certificado" onclick="finalizado()">
        
    </div>
    <p><span id="saidafim"></span></p>

    <script>
        /*variables generales*/
        var regis = document.getElementById('codigo')

        var sen = document.getElementById('senha')

        var logger = document.getElementById('containerlogin')

        var paraTestes = document.getElementById('saida')

        var poslog = document.getElementById('logado')

        var botaoentrar = document.getElementById('botaoentrar')

        /*register value*/
        var arrayCodes = [
            'egho300397',
            'mano2022',
            'justina2222',
        ]
        var arrayPas = [
            '9231',
            '8080',
            '1132',
        ]
        var arrayName = [
            'Elioenai Oliveira',
            'Thiago Henrique',
            'Maria Justina',
        ]
        var arrayCurso = [
            'Música',
            'Direito',
            'Controlador de Acesso',
        ]         
        var arrayLinksCursos1 = [
            'https://www.youtube.com/embed/GJC9zdMG1UQ',
            'https://www.youtube.com/embed/B9ym8kCs7XQ',
            'https://www.youtube.com/embed/8UlbnQIYoKA',
        ]

        var arrayLinksCursos2 = [
            'https://www.youtube.com/embed/khH0siw2F3M',
            'https://www.youtube.com/embed/DRT7ZbwnSEM',
            'https://www.youtube.com/embed/mMyYMrRTwME',
        ]

        function entrar(){
            var positiondocode = arrayCodes.indexOf(regis.value)
            var positiondopas = arrayPas.indexOf(sen.value)
            var nomeAlunosaida = document.getElementById('nome')
            var nomeCursosaida = document.getElementById('curso')
            var conclusaodocurso = document.getElementById('conclusao')
            
            var iframeprimeiro = document.getElementById('primeiro')
            var iframesegundo = document.getElementById('segundo')
            
            if(Number(positiondocode) == -1 || Number(positiondopas) == -1){
                window.alert('Aluno não encontrado. Tente novamente!')
            }else if (Number(positiondocode) == Number(positiondopas)){
                logger.style.display = 'none';
                logado.style.display = 'block';
                nomeAlunosaida.innerText = arrayName[positiondocode]
                nomeCursosaida.innerText = arrayCurso[positiondocode]
                nomeAlunosaida.innerText = arrayName[positiondocode]
                iframeprimeiro.src = arrayLinksCursos1[positiondocode]
                iframesegundo.src = arrayLinksCursos2[positiondocode]
            }
        }

        /*OUVINTE: obs: não funciona!!!*/
        botaoentrar.addEventListener('keypress', function(event){
        if(event.keyCode == 13) {
            event.preventDefault();
            entrar();
           }
        });

        function mainmenu(){
            var menu = document.getElementsByTagName('menu')[0]
            if (menu.style.display == 'none'){
                menu.style.display = 'block'
            } else{
                menu.style.display = 'none'
            }
        }
        
        var videoA = document.getElementById('video1feito')
        var videoB = document.getElementById('video2feito')
        var spandesaida = document.getElementById('saidafim')
        function finalizado(){
            if (videoA.checked == true && videoB.checked == true){
                poslog.style.display = 'none'
                spandesaida.innerHTML = 'Tudo certo! Parabéns, você finalizou o curso! Clique <a href="certificado.html">AQUI</a> e receba seu certificado'
            }else{
                window.alert('Você ainda não checou a caixa de finalização dos vídeos')
            }
        }
    </script>
</body>
</html>